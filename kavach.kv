#:kivy 2.2.1

ScreenManager :
    MainWin:
    EmergencyContacts:
    AddEmergencyContacts:
    ViewEmergencyContacts:
    DeleteEmergencyContacts:
    
#Main GUI Win
<MainWin>:
    name : "Main_Menu"
    BoxLayout:
        orientation:"vertical"

        #Emergency Button
        Button:
            text: "KAVACH"
            # size: , 
            size_hint: None , None
            width:"800dp"
            height:"100dp"
            # x, center-x, right
            # y, center-y, top
            pos_hint:{"x": 0} 

        #Emergency Contacts
        Button:
            text: "Emergency Contacts"
            # size: , 
            size_hint: None , None
            width:"200dp"
            height:"100dp"
            # x, center-x, right
            # y, center-y, top
            pos_hint:{"x": 0} 
            on_release :  
                app.root.current = "Contacts_Menu"
                root.manager.transition.direction = "left"

        #Voice Recognition
        Button:
            text: "Voice Recognition"
            size_hint: None , None
            width:"200dp"
            height:"100dp"
            # x, center-x, right
            # y, center-y, top
            pos_hint:{"x": 0} 

        #Lock Screen Pattern
        Button:
            text: "Lock screen pattern"
            size_hint: None , None
            width:"200dp"
            height:"100dp"
            # x, center-x, right
            # y, center-y, top
            pos_hint:{"x": 0} 

        #Lock Screen Pin
        Button:
            text: "Lock screen pin"
            size_hint: None , None
            width:"200dp"
            height:"100dp"
            # x, center-x, right
            # y, center-y, top
            pos_hint:{"x": 0} 
        
        #Adds a widget on the home screen to send SOS
        Button:
            text: "Home screen widget"
            size_hint: None , None
            width:"200dp"
            height:"100dp"
            # x, center-x, right
            # y, center-y, top
            pos_hint:{"x": 0} 


#Emergency Menu Win
<EmergencyContacts>:
    name : "Contacts_Menu"
    BoxLayout:
        orientation: "vertical"

        BoxLayout:
            #Back Button
            Button:
                text: "Back"
                size_hint : .2,1
                on_release : 
                    app.root.current = "Main_Menu"
                    root.manager.transition.direction = "right"
            
            Label :
                text : "Kavach"
                font_size : 40

        #Add Button
        Button : 
            text : "Add"
            on_release : 
                app.root.current = "Add_Contacts"
                root.manager.transition.direction = "left"
        
        #Veiw button 
        Button : 
            text : "View"
            on_release : 
                app.root.current = "View_Contacts"
                root.manager.transition.direction = "left"
                root.veiwButton()
        
        #Delete Button
        Button : 
            text : "Delete"

#Add Emergency Contacts Window
<AddEmergencyContacts>:
    name : "Add_Contacts"
    BoxLayout:
        orientation: "vertical"


        #Top Frame
        BoxLayout:
            #Back Button
            Button:
                text: "Back"
                size_hint : .2,1
                on_release : 
                    app.root.current = "Contacts_Menu"
                    root.manager.transition.direction = "right"

            Label :
                text : "Kavach"
                font_size : 40

        Label :
            text : "Contact Info"
            font_size : 30
        
        #Name
        BoxLayout:
            Label :
                text : "Name"
                font_size : 30
                size_hint : .4,1
            
            TextInput :
                id : Name_Input 
                multiline : False
                size_hint : .6,1
                on_text_validate : root.nameTextValidate(self)        
        
        #Contact Number 
        BoxLayout:
            Label :
                text : "Number"
                font_size : 30
                size_hint : .4,1
            
            TextInput :
                id : Contact_Input
                multiline : False
                size_hint : .6,1   
                on_text_validate : 
                    root.numberTextValidate(self)
                    


        #Add Button for adding Contacts to CSV File
        Button:
            text: "Add Contact"
            on_release : 
                root.addContactButton(Name_Input,Contact_Input)
                app.root.current = "Contacts_Menu"
                root.manager.transition.direction = "right"

#GUI for Veiwing Contacts
<ViewEmergencyContacts>:
    name : "View_Contacts"
    BoxLayout:
        orientation: "vertical"

        #Top Frame
        BoxLayout:
            #Back Button
            Button:
                text: "Back"
                size_hint : .2,1
                on_release : 
                    app.root.current = "Contacts_Menu"
                    root.manager.transition.direction = "right"

            Label :
                text : "Kavach"
                font_size : 40

        Label :
            text : "Contacts"
            font_size : 30

        BoxLayout:
            TextInput :
                disabled : True
                size_hint : .5,None
                height : "40dp"
                text : "Contact Name"
                text_allignment : "centre"
            
            TextInput :
                disabled : True
                size_hint : .5,None
                height : "40dp"
                text : "Contact Number"
                text_allignment : "centre"
            
        BoxLayout:
            Label :
                size_hint : .5,1
                text : root.veiwName

            Label :
                size_hint : .5,1   
                text : root.veiwNumber


#GUI for Veiwing Contacts
<DeleteEmergencyContacts>:
    name : "Delete_Contacts"
    BoxLayout:
        orientation: "vertical"

        #Top Frame
        BoxLayout:
            #Back Button
            Button:
                text: "Back"
                size_hint : .2,1
                on_release : 
                    app.root.current = "Contacts_Menu"
                    root.manager.transition.direction = "right"

            Label :
                text : "Kavach"
                font_size : 40

        Label :
            text : "Contacts"
            font_size : 30

        BoxLayout:
            TextInput :
                id : Contact_Input
                multiline : False
                size_hint : .6,1   
                on_text_validate : 
                    root.numberTextValidate(self)



        


             